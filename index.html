<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <title>Parallax Scrolling // Vanilla Javascript</title>
</head>
<body>
    <header>
        <a href="#" class="logo">Logo</a>
        <ul>
            <li><a href="#" class="active" id="home">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Work</a></li>
            <li><a href="#">Contract</a></li>
        </ul>
    </header>
    <section>
        <img src="./images/stars.png" id="stars" alt="">
        <img src="./images/moon.png" id="moon" alt="">
        <img src="./images/mountains_behind.png" id="mountains_behind" alt="">
        <h2 id="text">Moon Light</h2>
        <a href="#sec" id="btn">Explore</a>
        <img src="./images/mountains_front.png" id="mountains_front" alt="">
    </section>
    <div class="sec" id="sec">
        <h2>Parallax Scrolling Effects</h2>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita, ad eos, debitis id quibusdam ex eaque porro cumque non voluptatum placeat reprehenderit adipisci quia, facere soluta. Illo voluptates, sunt quia ut fugit tempore. Blanditiis maxime molestias minus temporibus ut voluptates a numquam quibusdam, fugit et, odio laudantium cum necessitatibus quia modi neque repudiandae eos? Odit quisquam similique minima a perferendis. Sint ea eius nisi necessitatibus quis ad consectetur quasi doloremque quos qui reiciendis eaque aperiam quibusdam, commodi ut nulla sequi. Mollitia ipsa, explicabo quibusdam nobis labore, ut debitis sint inventore, at voluptatem similique quae minus. Culpa molestiae est optio ullam!</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita, ad eos, debitis id quibusdam ex eaque porro cumque non voluptatum placeat reprehenderit adipisci quia, facere soluta. Illo voluptates, sunt quia ut fugit tempore. Blanditiis maxime molestias minus temporibus ut voluptates a numquam quibusdam, fugit et, odio laudantium cum necessitatibus quia modi neque repudiandae eos? Odit quisquam similique minima a perferendis. Sint ea eius nisi necessitatibus quis ad consectetur quasi doloremque quos qui reiciendis eaque aperiam quibusdam, commodi ut nulla sequi. Mollitia ipsa, explicabo quibusdam nobis labore, ut debitis sint inventore, at voluptatem similique quae minus. Culpa molestiae est optio ullam!</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita, ad eos, debitis id quibusdam ex eaque porro cumque non voluptatum placeat reprehenderit adipisci quia, facere soluta. Illo voluptates, sunt quia ut fugit tempore. Blanditiis maxime molestias minus temporibus ut voluptates a numquam quibusdam, fugit et, odio laudantium cum necessitatibus quia modi neque repudiandae eos? Odit quisquam similique minima a perferendis. Sint ea eius nisi necessitatibus quis ad consectetur quasi doloremque quos qui reiciendis eaque aperiam quibusdam, commodi ut nulla sequi. Mollitia ipsa, explicabo quibusdam nobis labore, ut debitis sint inventore, at voluptatem similique quae minus. Culpa molestiae est optio ullam!</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita, ad eos, debitis id quibusdam ex eaque porro cumque non voluptatum placeat reprehenderit adipisci quia, facere soluta. Illo voluptates, sunt quia ut fugit tempore. Blanditiis maxime molestias minus temporibus ut voluptates a numquam quibusdam, fugit et, odio laudantium cum necessitatibus quia modi neque repudiandae eos? Odit quisquam similique minima a perferendis. Sint ea eius nisi necessitatibus quis ad consectetur quasi doloremque quos qui reiciendis eaque aperiam quibusdam, commodi ut nulla sequi. Mollitia ipsa, explicabo quibusdam nobis labore, ut debitis sint inventore, at voluptatem similique quae minus. Culpa molestiae est optio ullam!</p>
        <!-- <a href="#" id="backToTop" onclick="backToTop()"> Back to Top </a> -->
    </div>
    <button onclick="topFunc()" id="topBtn">Go to Top</button>


    <script>
        let stars = document.getElementById('stars');
        let moon = document.getElementById('moon');
        let mountains_behind = document.getElementById('mountains_behind');
        let text = document.getElementById('text');
        let btn = document.getElementById('btn');
        let mountains_front = document.getElementById('mountains_front');
        let header = document.querySelector('header');
        let topBtn = document.getElementById('topBtn');

        document.addEventListener('scroll', function(){
            let value = window.scrollY;
            stars.style.left = value  * 0.25+ 'px';
            moon.style.top = Math.min(value  * 1.05, mountains_behind.height)+ 'px';
            mountains_behind.style.top = value  * 0.5 + 'px';
            mountains_front.style.top = value  * 0 + 'px';
            text.style.marginRight = value  * 3 + 'px';
            text.style.marginTop = value  * 1.5 + 'px';
            btn.style.marginTop = value  * 1.5 + 'px';
            header.style.top = value  * 0.5+ 'px';
        })
        
        // function fadeIn(element) {
        //     var op = 0.1; //initial opacity
        //     element.style.display = 'block';
        //     var timer = setInterval(function () {
        //         if (op >= 1){
        //             clearInterval(timer);
        //         }
        //         element.style.opacity = op;
        //         element.style.filter = 'alpha(opacity=' + op*100 + ")";
        //         op += op*0,1;
        //     }, 10);
        // }

        // function fadeOut(element) {
        //     var op = 1; //initial opacity
        //     var timer = setInterval(function () {
        //         if (op <= 0.1){
        //             clearInterval(timer);
        //             element.style.display = 'none';
        //         }
        //         element.style.opacity = op;
        //         element.style.filter = 'alpha(opacity=' + op*100 + ")";
        //         op -= op*0.1;
        //     }, 50);
        // }

        function scrollFunc() {
            // if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                if (window.pageYOffset > 300) {
                // fadeOut(topBtn);
                topBtn.style.display = "block";
            } else {
                // fadeIn(topBtn);
                topBtn.style.display = "none";
            }
        }

        window.onscroll = function() {
            scrollFunc();
        }

        function topFunc() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }

    </script>
</body>

<!-- i learned from this youtube tutorial : https://www.youtube.com/watch?v=1wfeqDyMUx4&list=PLUCBXldKlUbYaO8Lvhc-OwOG_9Y5nG3DD&index=6 -->
</html>